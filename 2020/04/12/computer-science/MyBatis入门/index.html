<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" href="http://matsubarakanon.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" href="http://matsubarakanon.github.io/atom.xml"><link rel="alternate" type="application/json" href="http://matsubarakanon.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="http://matsubarakanon.github.io/2020/04/12/computer-science/MyBatis%E5%85%A5%E9%97%A8/"><title>MyBatis入门 - 计算机科学 | MatsubaraKanon =</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">MyBatis入门</h1><div class="meta"><span class="item" title="创建时间：2020-04-12 20:46:25"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2020-04-12T20:46:25+08:00">2020-04-12</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>20k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>18 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">MatsubaraKanon</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giciusoyjnj219g0u0x56.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giph4fomxoj20zk0m8axp.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclxfdlttj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gicm0fdw5cj20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipewkhf1zj20zk0m81kx.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclhnx9glj20zk0m8npd.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/" itemprop="item" rel="index" title="分类于 计算机科学"><span itemprop="name">计算机科学</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://matsubarakanon.github.io/2020/04/12/computer-science/MyBatis%E5%85%A5%E9%97%A8/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="MatsubaraKanon"><meta itemprop="description" content=", MatsubaraKanon的博客"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content=""></span><div class="body md" itemprop="articleBody"><h1 id="mybatis入门"><a class="anchor" href="#mybatis入门">#</a> MyBatis 入门</h1><h2 id="初始mybatis"><a class="anchor" href="#初始mybatis">#</a> 初始 MyBatis</h2><h3 id="mybatis框架简介"><a class="anchor" href="#mybatis框架简介">#</a> MyBatis 框架简介</h3><p><span class="exturl" data-url="aHR0cHM6Ly9teWJhdGlzLm9yZy9teWJhdGlzLTMvemgvaW5kZXguaHRtbA==">MyBatis</span> 是一个优秀的开源的数据持久层框架，在实体类和 SQL 语句之间建立映射关系，是一个半自动化的 ORM (对象关系映射) 框架。</p><p>MyBatis 内部封装了 JDBC 访问数据库的操作，支持普通的 SQL 查询，存储过程和高级映射，几乎消除了所有的 JDBC 代码和参数的手工设置以及结果集的检索。</p><p>MyBatis 作为持久层框架，其主要思想是将程序中的大量 SQL 语句分离出来，配置在配置文件中，实现 SQL 的灵活配置，将 SQL 语句与程序代码分离，可以在不修改程序代码的情况下，直接在配置文件中修改 SQL 语句。</p><p>MyBatis 的前身是 iBatis，是 Apache 的一个开源项目，2010 年这个项目由 Apache Software Foundation 迁移到了 Google Code，并更名为 MyBatis。2013 年又迁移到 GitHub。</p><h3 id="mybatis的优缺点"><a class="anchor" href="#mybatis的优缺点">#</a> MyBatis 的优缺点</h3><hr><h4 id="优点"><a class="anchor" href="#优点">#</a> 优点</h4><ul><li>性能优越，并且小巧灵活，简单易学。</li><li>解除 sql 与程序代码的耦合。</li><li>提供映射标签，支持对象与数据库的 orm 字段关系映射</li><li>提供对象关系映射标签，支持对象关系组建维护</li><li>提供 xml 标签，支持编写动态 sql。</li></ul><h4 id="缺点"><a class="anchor" href="#缺点">#</a> 缺点</h4><ul><li>编写 SQL 语句时工作量很大，尤其是字段多、关联表多时，更是如此。</li><li>SQL 语句依赖于数据库，导致数据库移植性差，不能更换数据库。</li></ul><h2 id="mybatis入门-2"><a class="anchor" href="#mybatis入门-2">#</a> MyBatis 入门</h2><h3 id="安装mybatis"><a class="anchor" href="#安装mybatis">#</a> 安装 MyBatis</h3><p>要使用 MyBatis， 只需将 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL215YmF0aXMvbXliYXRpcy0zL3JlbGVhc2Vz">mybatis-x.x.x.jar</span> 文件置于类路径（classpath）中即可。</p><p>如果使用 Maven 来构建项目，则需将下面的依赖代码置于 pom.xml 文件中：</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 需要指定版本号 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>x.x.x<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h3 id="搭建mybatis环境"><a class="anchor" href="#搭建mybatis环境">#</a> 搭建 MyBatis 环境</h3><h4 id="实现步骤"><a class="anchor" href="#实现步骤">#</a> 实现步骤</h4><ol><li>下载 MyBatis 需要的 jar 文件或添加相关 maven 依赖</li><li>创建 MyBatis 核心配置文件 (mybatis-config.xml)</li><li>创建持久化类和 SQL 映射文件</li><li>创建测试类</li></ol><h4 id="添加mybatis相关依赖"><a class="anchor" href="#添加mybatis相关依赖">#</a> 添加 MyBatis 相关依赖</h4><blockquote><p>在 pom.xml 文件中加入 mybatis、mysql 和 junit 单元测试依赖，关键代码如下：</p></blockquote><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 添加相关依赖坐标 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- mybatis --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- mysql --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.19<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 单元测试 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h4 id="创建mybatis核心配置文件"><a class="anchor" href="#创建mybatis核心配置文件">#</a> 创建 MyBatis 核心配置文件</h4><p>​ MyBatis 核心配置文件<mark>主要用于配置数据库连接和 MyBatis 运行时所需的各种特性</mark>，包含了设置和影响 MyBatis 行为的属性。为了方便管理框架所需要的配置文件，一般在 resources 目录下创建 MyBatis 配置文件，配置文件名称自定义，此处命名为 <code>mybatis-config.xml</code> ，配置文件代码如下所示：</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 配置数据库环境 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 该default属性必填，指定的值必须是存在的 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- environment标签：用于配置数据库环境 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- id属性：在整个应用环境中必须唯一 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 事务管理器:JDBC、Manage --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 数据源：POOLED,JNDI,UNPOOLED --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 数据库驱动 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 数据库连接地址 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/smbms?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf-8<span class="symbol">&amp;amp;</span>serverTimezone=UTC&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 数据库用户名 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 数据库密码 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h4 id="创建持久化类实体类"><a class="anchor" href="#创建持久化类实体类">#</a> 创建持久化类 (实体类)</h4><p>在 MyBatis 中，实体类名称不需要与数据库表名一致，因为 MyBatis 是 POJO 与 SQL 语句之间的映射机制，一般情况下，保证 POJO 实体类的属性名称与数据库表的字段名一致即可。</p><p>&lt;font color=red&gt; 注意：实体类属性名不一定与数据库表中的字段名一致，只是建议一致。&lt;/font&gt;</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manong.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id; <span class="comment">//id</span></span><br><span class="line">    <span class="keyword">private</span> String userCode; <span class="comment">//用户编码</span></span><br><span class="line">    <span class="keyword">private</span> String userName; <span class="comment">//用户名称</span></span><br><span class="line">    <span class="keyword">private</span> String userPassword; <span class="comment">//用户密码</span></span><br><span class="line">    <span class="keyword">private</span> Integer gender; <span class="comment">//性别</span></span><br><span class="line">    <span class="keyword">private</span> Date birthday; <span class="comment">//出生日期</span></span><br><span class="line">    <span class="keyword">private</span> String phone; <span class="comment">//电话</span></span><br><span class="line">    <span class="keyword">private</span> String address; <span class="comment">//地址</span></span><br><span class="line">    <span class="keyword">private</span> Integer userRole; <span class="comment">//用户角色</span></span><br><span class="line">    <span class="keyword">private</span> Integer createdBy; <span class="comment">//创建者</span></span><br><span class="line">    <span class="keyword">private</span> Date creationDate; <span class="comment">//创建时间</span></span><br><span class="line">    <span class="keyword">private</span> Integer modifyBy; <span class="comment">//更新者</span></span><br><span class="line">    <span class="keyword">private</span> Date modifyDate; <span class="comment">//更新时间</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUserCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserCode</span><span class="params">(String userCode)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userCode = userCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUserName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserName</span><span class="params">(String userName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userName = userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUserPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userPassword;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserPassword</span><span class="params">(String userPassword)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userPassword = userPassword;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getGender</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setGender</span><span class="params">(Integer gender)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">getBirthday</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBirthday</span><span class="params">(Date birthday)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.birthday = birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPhone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPhone</span><span class="params">(String phone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.phone = phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getUserRole</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userRole;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserRole</span><span class="params">(Integer userRole)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userRole = userRole;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getCreatedBy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> createdBy;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCreatedBy</span><span class="params">(Integer createdBy)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.createdBy = createdBy;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">getCreationDate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> creationDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCreationDate</span><span class="params">(Date creationDate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.creationDate = creationDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getModifyBy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> modifyBy;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setModifyBy</span><span class="params">(Integer modifyBy)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.modifyBy = modifyBy;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">getModifyDate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> modifyDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setModifyDate</span><span class="params">(Date modifyDate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.modifyDate = modifyDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, userCode=&#x27;&quot;</span> + userCode + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, userName=&#x27;&quot;</span> + userName + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, userPassword=&#x27;&quot;</span> + userPassword + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, gender=&quot;</span> + gender +</span><br><span class="line">                <span class="string">&quot;, birthday=&quot;</span> + birthday +</span><br><span class="line">                <span class="string">&quot;, phone=&#x27;&quot;</span> + phone + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, address=&#x27;&quot;</span> + address + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, userRole=&quot;</span> + userRole +</span><br><span class="line">                <span class="string">&quot;, createdBy=&quot;</span> + createdBy +</span><br><span class="line">                <span class="string">&quot;, creationDate=&quot;</span> + creationDate +</span><br><span class="line">                <span class="string">&quot;, modifyBy=&quot;</span> + modifyBy +</span><br><span class="line">                <span class="string">&quot;, modifyDate=&quot;</span> + modifyDate +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h4 id="创建sql映射文件"><a class="anchor" href="#创建sql映射文件">#</a> 创建 SQL 映射文件</h4><blockquote><p>在 resources/mapper 目录下创建 SQL 映射文件，以 <code>实体类名称</code> + <code>Mapper</code> 命名。</p></blockquote><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- mapper标签：执行增删改查 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- namespace属性：映射文件的命名空间，在整个应用中必须唯一,属性值任意填写（如果使用接口编程，命名空间必须是接口的全限定类） --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 查询用户列表 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- select标签：用于执行select查询语句 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- id属性：必填且唯一，建议与接口的方法名称同名 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- resultType属性：返回值类型，该属性必填,要求：实体类的属性名必须与表中的列名或别名一致 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findUserList&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.manong.entity.User&quot;</span>&gt;</span></span><br><span class="line">        select  *  from smbms_user</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><ul><li><p>namespace 属性：映射文件的命名空间，在整个应用中必须唯一，属性值任意填写（如果使用接口编程，命名空间必须是接口的全限定类）</p></li><li><p><code>&lt;select&gt;</code> 标签用于执行查询语句。</p><ul><li><p>id 属性：必填且唯一，建议与接口的方法名称同名</p></li><li><p>resultType 属性：返回值类型，该属性必填，<mark>要求：实体类的属性名必须与表中的列名或别名一致</mark></p></li></ul></li></ul><h4 id="创建测试类"><a class="anchor" href="#创建测试类">#</a> 创建测试类</h4><ul><li>调用 SQL 映射文件定义的方法，需要通过 <code>命名空间.标签ID名称</code> 的方式进行调用。</li><li><code>selectList()</code> 方法返回多条记录。</li></ul><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 查询所有用户</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SqlSession sqlSession = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//读取mybatis配置文件</span></span><br><span class="line">        InputStream inputStream = Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//创建会话工厂对象</span></span><br><span class="line">        SqlSessionFactory sessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">        <span class="comment">//打开Session</span></span><br><span class="line">        sqlSession = sessionFactory.openSession();</span><br><span class="line">        <span class="comment">//执行查询（命名空间+.+标签ID名称）</span></span><br><span class="line">        List&lt;User&gt; userList = sqlSession.selectList(<span class="string">&quot;test.findUserList&quot;</span>);</span><br><span class="line">        <span class="comment">//循环遍历</span></span><br><span class="line">        <span class="keyword">for</span> (User user : userList) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//关闭资源</span></span><br><span class="line">        <span class="comment">//判断session是否为空，不为空则关闭资源</span></span><br><span class="line">        <span class="keyword">if</span>(sqlSession!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            sqlSession.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h4 id="加载sql映射文件"><a class="anchor" href="#加载sql映射文件">#</a> 加载 SQL 映射文件</h4><p>在 MyBatis 核心配置文件中通过 <code>&lt;mappers&gt;</code> 元素加载 SQL 映射文件，关键代码如下：</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 加载映射文件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 加载映射文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mapper/UserMapper.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h2 id="mybatis核心对象"><a class="anchor" href="#mybatis核心对象">#</a> MyBatis 核心对象</h2><p>MyBatis 的核心接口和类主要有 3 个，分别是 <code>SqlSessionFactoryBuilder</code> 、 <code>SqlSessionFactory</code> 、 <code>SqlSession</code> 。MyBatis 核心接口和类的结构图如下所示：</p><p><img data-src="C:%5CUsers%5C25442%5CAppData%5CLocal%5CTemp%5CRar$DIa33512.16536%5Cimages%5Cimage-20200830113813370.png" alt="image-20200830113813370"></p><ol><li>每个 MyBatis 的应用程序都以一个 <code>SqlSessionFactory</code> 对象的实例为核心</li><li>可以根据 XML 配置文件或 Configuration 类的实例创建 SqlSessionFactoryBuilder 对象</li><li>通过 SqlSessionFactoryBuilder 对象获取 SqlSessionFactory 会话工厂对象</li><li>通过 SQLSessionFactory 对象获取 SqlSession 实例，在 SqlSession 对象中包含了所有执行数据库操作的方法。</li></ol><h3 id="sqlsessionfactorybuilder"><a class="anchor" href="#sqlsessionfactorybuilder">#</a> SqlSessionFactoryBuilder</h3><ul><li>通过 <code>SqlSessionFactoryBuilder</code> 创建会话工厂 <code>SqlSessionFactory</code></li><li>将 <code>SqlSessionFactoryBuilder</code> 当成一个工具类使用即可，不需要使用单例管理 <code>SqlSessionFactoryBuilder</code></li><li>在需要创建 <code>SqlSessionFactory</code> 时候，只需要 new 一次 <code>SqlSessionFactoryBuilder</code> 即可</li><li><code>SqlSessionFactoryBuilder</code> 最大的特点是用过即丢。一旦创建了 <code>SqlSessionFactory</code> 对象，这个类就不需要了。因此 <code>SqlSessionFactoryBuilder</code> 的最佳使用范围就是存在于方法体内，也就是局部变量</li></ul><h3 id="sqlsessionfactory"><a class="anchor" href="#sqlsessionfactory">#</a> SqlSessionFactory</h3><ul><li>通过 <code>SqlSessionFactory</code> 创建 <code>SqlSession</code> ，使用单例模式管理 <code>sqlSessionFactory</code> （工厂一旦创建，使用一个实例）</li><li>所有 MyBatis 应用都是以 <code>SqlSessionFactory</code> 实例为中心，该对象一旦创建，就会在整个应用运行过程中始终存在。没有理由去销毁或再创建它，并且在应用运行中也不建议多次创建 SqlSessionFactory，因此最佳作用域是 Application，也就是全局变量。</li></ul><h3 id="sqlsession"><a class="anchor" href="#sqlsession">#</a> SqlSession</h3><ul><li>SqlSession 适用于执行持久化操作的对象</li><li>SqlSession 对应着一次数据库会话，由于数据库会话不是永久的，因此 SqlSession 最佳应用场合在方法体内，定义成局部变量使用。</li><li>若 SqlSession 被关闭，则需要重新创建 SqlSession 对象</li><li>使用 SqlSession 的方式有两种，分别是：<ol><li>基于 SqlSession 实例直接执行映射文件的 SQL 语句。</li><li>基于 Mapper 接口方式操作数据 &lt;font color=red&gt;(官方推荐)&lt;/font&gt;。</li></ol></li></ul><p>&lt;font color=red&gt; 注意：每个线程都有自己的 SqlSession 实例，SqlSession 实例不能被共享，也不是线程安全的。因此最佳的作用域范围是 request 作用域或者方法体作用域。&lt;/font&gt;</p><h3 id="小结"><a class="anchor" href="#小结">#</a> 小结</h3><table><thead><tr><th>对象</th><th>作用</th><th>生命周期</th></tr></thead><tbody><tr><td>SqlSessionFactoryBuilder</td><td>用于创建 SqlSessionFactory 对象</td><td>方法体内（局部变量）</td></tr><tr><td>SqlSessionFactory</td><td>用于创建 SqlSession 对象</td><td><strong>应用程序（成员变量）</strong></td></tr><tr><td>SqlSession</td><td>执行增删改查</td><td>方法体内（局部变量）</td></tr></tbody></table><h2 id="基于sqlsession实例执行sql语句"><a class="anchor" href="#基于sqlsession实例执行sql语句">#</a> 基于 SqlSession 实例执行 SQL 语句</h2><h3 id="案例1根据用户编码模糊查询"><a class="anchor" href="#案例1根据用户编码模糊查询">#</a> 案例 1：根据用户编码模糊查询</h3><h4 id="usermapperxml映射文件"><a class="anchor" href="#usermapperxml映射文件">#</a> UserMapper.xml 映射文件</h4><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- mapper标签：执行增删改查 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- namespace属性：映射文件的命名空间，在整个应用中必须唯一,属性值任意填写（如果使用接口编程，命名空间必须是接口的全限定类） --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 需求：根据用户编码模糊查询 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- parameterType属性：指定参数数的据类型（可以是全类名或别名），可以省略不写 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        占位符：</span></span><br><span class="line"><span class="comment">            1.#&#123;占位符名称&#125;:占位符名称可以自定义</span></span><br><span class="line"><span class="comment">                三个前提：1.方法中只有1个参数且是简单数据类型（基本数据类型、String）</span></span><br><span class="line"><span class="comment">                        2.方法参数是类类型，占位符名称必须是实体类的属性名且严格区分大小写</span></span><br><span class="line"><span class="comment">                        3.方法参数2个或2个以上，必须使用@Param注解</span></span><br><span class="line"><span class="comment">            2.$&#123;占位符名称&#125;：如果参数是简单数据类型（基本数据类型、String），占位符名称只能填写成value</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findUserListByUserCode&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;String&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.manong.entity.User&quot;</span>&gt;</span></span><br><span class="line">        select * from smbms_user where userCode like concat(&#x27;%&#x27;,#&#123;userCode&#125;,&#x27;%&#x27;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h4 id="测试类"><a class="anchor" href="#测试类">#</a> 测试类</h4><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 根据用户编码查询用户列表</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SqlSession sqlSession = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//读取mybatis配置文件</span></span><br><span class="line">        InputStream inputStream = Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//创建会话工厂对象</span></span><br><span class="line">        SqlSessionFactory sessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">        <span class="comment">//打开Session</span></span><br><span class="line">        sqlSession = sessionFactory.openSession();</span><br><span class="line">        <span class="comment">//执行查询（命名空间+.+标签ID名称）</span></span><br><span class="line">        List&lt;User&gt; userList = sqlSession.selectList(<span class="string">&quot;test.findUserListByUserCode&quot;</span>,<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        <span class="comment">//循环遍历</span></span><br><span class="line">        <span class="keyword">for</span> (User user : userList) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//关闭资源</span></span><br><span class="line">        <span class="comment">//判断session是否为空，不为空则关闭资源</span></span><br><span class="line">        <span class="keyword">if</span>(sqlSession!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            sqlSession.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h3 id="案例2统计用户数量"><a class="anchor" href="#案例2统计用户数量">#</a> 案例 2：统计用户数量</h3><h4 id="usermapperxml"><a class="anchor" href="#usermapperxml">#</a> UserMapper.xml</h4><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 统计用户数量 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getTotalCount&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">        select count(1) from smbms_user</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h4 id="测试类-2"><a class="anchor" href="#测试类-2">#</a> 测试类</h4><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 统计用户数量</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SqlSession sqlSession = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//读取mybatis配置文件</span></span><br><span class="line">        InputStream inputStream = Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//创建会话工厂对象</span></span><br><span class="line">        SqlSessionFactory sessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">        <span class="comment">//打开Session</span></span><br><span class="line">        sqlSession = sessionFactory.openSession();</span><br><span class="line">        <span class="comment">//执行查询（命名空间+.+标签ID名称）</span></span><br><span class="line">        <span class="keyword">int</span> count = sqlSession.selectOne(<span class="string">&quot;test.getTotalCount&quot;</span>);</span><br><span class="line">        <span class="comment">//输出</span></span><br><span class="line">        System.out.println(<span class="string">&quot;用户数量：&quot;</span>+count);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//关闭资源</span></span><br><span class="line">        <span class="comment">//判断session是否为空，不为空则关闭资源</span></span><br><span class="line">        <span class="keyword">if</span>(sqlSession!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            sqlSession.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h3 id="总结"><a class="anchor" href="#总结">#</a> 总结</h3><h4 id="parametertype"><a class="anchor" href="#parametertype">#</a> parameterType</h4><p>在映射文件中通过 parameterType 指定输入参数的类型 (参数的数据类型)，该属性可以省略不写</p><h4 id="resulttype"><a class="anchor" href="#resulttype">#</a> resultType</h4><p>在映射文件中通过 resultType 指定输出结果的类型（返回值类型）</p><p>使用 resultType 属性配置返回值类型要求：<strong>实体类属性名称必须与表中的列名或别名一致</strong></p><h4 id="和"><a class="anchor" href="#和">#</a> #{} 和 ${}</h4><h5><a class="anchor" href="#">#</a> #{}</h5><ol><li><p>#{} 表示一个占位符号，#{} 接收输入参数，类型可以是简单类型 (基本类型)，pojo (实体类)、hashmap。</p></li><li><p>如果接收简单类型，#{} 中的占位符可以自定义。</p></li><li><p>#{} 接收 pojo 对象值，通过 OGNL 读取对象中的属性值，通过属性。属性。属性... 的方式获取对象属性值。</p></li></ol><h5 id="-2"><a class="anchor" href="#-2">#</a> ${}</h5><ol><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow></mrow><mtext>表示一个拼接符号，会引发</mtext><mi>s</mi><mi>q</mi><mi>l</mi><mtext>注入，所以不建议使用</mtext></mrow><annotation encoding="application/x-tex">{}表示一个拼接符号，会引发sql注入，所以不建议使用</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord"></span><span class="mord cjk_fallback">表</span><span class="mord cjk_fallback">示</span><span class="mord cjk_fallback">一</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">拼</span><span class="mord cjk_fallback">接</span><span class="mord cjk_fallback">符</span><span class="mord cjk_fallback">号</span><span class="mord cjk_fallback">，</span><span class="mord cjk_fallback">会</span><span class="mord cjk_fallback">引</span><span class="mord cjk_fallback">发</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:.03588em">q</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mord cjk_fallback">注</span><span class="mord cjk_fallback">入</span><span class="mord cjk_fallback">，</span><span class="mord cjk_fallback">所</span><span class="mord cjk_fallback">以</span><span class="mord cjk_fallback">不</span><span class="mord cjk_fallback">建</span><span class="mord cjk_fallback">议</span><span class="mord cjk_fallback">使</span><span class="mord cjk_fallback">用</span></span></span></span> {}。</p></li><li><p>${} 接收输入参数，类型可以是简单类型，pojo、hashmap。</p></li><li><p>如果接收简单类型，${} 中只能写成 value。</p></li><li><p>${} 接收 pojo 对象值，通过 OGNL 读取对象中的属性值，通过属性。属性。属性... 的方式获取对象属性值。</p></li></ol><h4 id="selectone和selectlist"><a class="anchor" href="#selectone和selectlist">#</a> selectOne () 和 selectList ()</h4><ol><li><code>selectOne()</code> 表示查询出一条记录进行映射。如果使用 <code>selectOne(</code> ) 可以实现使用 <code>selectList()</code> 也可以实现（list 中只有一个对象）。<mark>注意：只能返回一条记录，返回多条会报错。</mark></li><li><code>selectList()</code> 表示查询出一个列表（多条记录）进行映射。如果使用 <code>selectList()</code> 查询多条记录，不能使用 <code>selectOne()</code> 。</li></ol><h2 id="基于mapper接口方式"><a class="anchor" href="#基于mapper接口方式">#</a> 基于 Mapper 接口方式</h2><h3 id="概述"><a class="anchor" href="#概述">#</a> 概述</h3><p>基于 Mapper 接口方式是 MyBatis 官方推荐使用的，该方式的表达方式也更加直白，代码更加清晰，类型更加安全，无需担心易错的字符串字面值及强制类型转换等。</p><p>基于 Mapper 接口实现功能开发，dao 数据访问层的接口不需要实现类，使用接口 + Mapper 映射文件实现功能开发即可，但是必须遵守以下规则：</p><ol><li>mapper 映射文件的命名空间必须是 maper 接口的全限定类名</li><li>mapper 映射文件的标签 id 值必须与 mapper 接口中的方法名称同名</li></ol><h3 id="基于mapper接口方式实现功能开发"><a class="anchor" href="#基于mapper接口方式实现功能开发">#</a> 基于 Mapper 接口方式实现功能开发</h3><h4 id="定义mapper接口"><a class="anchor" href="#定义mapper接口">#</a> 定义 Mapper 接口</h4><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manong.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.manong.entity.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据用户编码查询用户信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> userCode</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">findUserListByUserCode</span><span class="params">(String userCode)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><h4 id="创建mapper映射文件"><a class="anchor" href="#创建mapper映射文件">#</a> 创建 Mapper 映射文件</h4><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 要求1：命名空间必须是接口的全限定类名 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.manong.dao.UserMapper&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 要求2：id名称必须与接口中的方法名一致 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- resultType属性：可以填写类的全限定类名或别名 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findUserListByUserCode&quot;</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">parameterType</span>=<span class="string">&quot;string&quot;</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">resultType</span>=<span class="string">&quot;com.manong.entity.User&quot;</span>&gt;</span></span><br><span class="line">        select * from smbms_user where userCode like concat(&quot;%&quot;,#&#123;userCode&#125;,&quot;%&quot;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h4 id="加载映射文件"><a class="anchor" href="#加载映射文件">#</a> 加载映射文件</h4><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 加载映射文件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 加载映射文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mapper/UserMapper.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h4 id="测试类-3"><a class="anchor" href="#测试类-3">#</a> 测试类</h4><p><code>注意：获取UserMapper接口实例，通过getMapper(Mapper.class)执行Mapper接口方法实现持久化操作。</code></p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestUser</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        SqlSession sqlSession = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//读取mybatis配置文件</span></span><br><span class="line">            InputStream inputStream = Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>);</span><br><span class="line">            <span class="comment">//创建会话工厂对象</span></span><br><span class="line">            SqlSessionFactory sessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">            <span class="comment">//打开Session</span></span><br><span class="line">            sqlSession = sessionFactory.openSession();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//通过动态代理方式获取UserMapper接口</span></span><br><span class="line">            UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line">            <span class="comment">//调用根据用户名查询用户列表的方法</span></span><br><span class="line">            List&lt;User&gt; userList = userMapper.findUserListByUserCode(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (User user : userList) &#123;</span><br><span class="line">                System.out.println(user);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//关闭资源</span></span><br><span class="line">            <span class="comment">//判断session是否为空，不为空则关闭资源</span></span><br><span class="line">            <span class="keyword">if</span>(sqlSession!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                sqlSession.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h2 id="mybatis核心配置文件"><a class="anchor" href="#mybatis核心配置文件">#</a> MyBatis 核心配置文件</h2><h3 id="配置文件结构"><a class="anchor" href="#配置文件结构">#</a> 配置文件结构</h3><p>MyBatis 核心配置文件的元素节点 (标签) 是有先后顺序的，其文件架构如下图所示：</p><p><img data-src="C:%5CUsers%5C25442%5CAppData%5CLocal%5CTemp%5CRar$DIa33512.16536%5Cimages%5Cimage-20200830134334643.png" alt="image-20200830134334643"></p><h3 id="properties元素"><a class="anchor" href="#properties元素">#</a> properties 元素</h3><h4 id="编写属性文件databaseproperties"><a class="anchor" href="#编写属性文件databaseproperties">#</a> 编写属性文件 (database.properties)</h4><p></p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#数据库驱动</span></span><br><span class="line"><span class="attr">driver</span> = <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="comment">#数据库连接url</span></span><br><span class="line"><span class="attr">url</span> = <span class="string">jdbc:mysql://localhost:3306/smbms?useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=UTC</span></span><br><span class="line"><span class="comment">#数据库用户名</span></span><br><span class="line"><span class="attr">user</span> = <span class="string">root</span></span><br><span class="line"><span class="comment">#数据库密码</span></span><br><span class="line"><span class="attr">password</span> = <span class="string">root</span></span><br></pre></td></tr></table></figure><p></p><h4 id="引入外部属性文件"><a class="anchor" href="#引入外部属性文件">#</a> 引入外部属性文件</h4><p>在 mybatis 核心配置文件中引入外部属性文件 ，关键代码如下所示：</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 加载外部的属性文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;database.properties&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 配置数据库环境 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 该default属性必填，指定的值必须是存在的 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 配置单个数据库环境 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- environment标签：用于配置数据库环境 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- id属性：在整个应用环境中必须唯一 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 事务管理器:JDBC、Manage --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 数据源：POOLED,JNDI,UNPOOLED --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 数据库驱动 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 数据库连接地址 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 数据库用户名 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;user&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 数据库密码 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h3 id="setting元素"><a class="anchor" href="#setting元素">#</a> setting 元素</h3><p>Setting 元素的作用是设置一些非重要的选项，用于设置和改变 MyBatis 运行中的行为。常用的配置如下所示：</p><p><img data-src="C:%5CUsers%5C25442%5CAppData%5CLocal%5CTemp%5CRar$DIa33512.16536%5Cimages%5Cimage-20200830135147160.png" alt="image-20200830135147160"></p><p>其它属性配置请参考<span class="exturl" data-url="aHR0cHM6Ly9teWJhdGlzLm9yZy9teWJhdGlzLTMvemgvY29uZmlndXJhdGlvbi5odG1sI3NldHRpbmdz">属性设置</span>：<span class="exturl" data-url="aHR0cHM6Ly9teWJhdGlzLm9yZy9teWJhdGlzLTMvemgvY29uZmlndXJhdGlvbi5odG1sI3NldHRpbmdz">https://mybatis.org/mybatis-3/zh/configuration.html#settings</span></p><h3 id="设置别名typealiases元素"><a class="anchor" href="#设置别名typealiases元素">#</a> 设置别名 ——typeAliases 元素</h3><h4 id="概述-2"><a class="anchor" href="#概述-2">#</a> 概述</h4><p>typeAliases 元素的作用是配置类型别名，通过与 MyBatis 的 SQL 映射文件相关联，减少输入多余的完整类名，以简化操作（别名不区分大小写）。</p><h4 id="单个设置别名"><a class="anchor" href="#单个设置别名">#</a> 单个设置别名</h4><p>单个设置别名的方式弊端在于，如果一个项目中有多个实体类 (POJO)，需要对每一个实体类进行设置。</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 设置别名 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 单个设置别名 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- type属性：类的全限定名(路径) --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- alias属性：别名（自定义） --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">type</span>=<span class="string">&quot;com.manong.entity.User&quot;</span> <span class="attr">alias</span>=<span class="string">&quot;user&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h4 id="批量设置别名"><a class="anchor" href="#批量设置别名">#</a> 批量设置别名</h4><p>批量设置别名，就是通过 <code>&lt;package&gt;</code> 元素的 name 属性直接指定包名，MyBatis 会自动扫描指定包下的 JavaBean，并设置一个别名，默认的别名名称就是实体类的类名 (不区分大小写)。</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 设置别名 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 批量设置别名 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 以类名作为别名，不区分大小写 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.manong.entity&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h4 id="使用别名"><a class="anchor" href="#使用别名">#</a> 使用别名</h4><p>在 mapper 映射文件中可以使用定义好的别名，比如在 parameterType 属性、resultType 属性上使用别名，关键代码如下：</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 要求1：命名空间必须是接口的全限定类名 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.manong.dao.UserMapper&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 要求2：id名称必须与接口中的方法名一致 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- resultType属性：可以填写类的全限定类名或别名 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findUserListByUserCode&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">parameterType</span>=<span class="string">&quot;string&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.manong.entity.User&quot;</span>&gt;</span></span><br><span class="line">        select * from smbms_user where userCode like concat(&quot;%&quot;,#&#123;userCode&#125;,&quot;%&quot;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p><mark>注意：使用别名简化持久化类的全限定类名前，必须预定义好别名，只有预先设置了别名，才能够使用别名；定义别名后也可以使用类的全限定类名。</mark></p><h4 id="mybatis内置别名"><a class="anchor" href="#mybatis内置别名">#</a> MyBatis 内置别名</h4><p>下面是一些为常见的 Java 类型内建的类型别名。它们都是不区分大小写的，注意，为了应对原始类型的命名重复，采取了特殊的命名风格。</p><table><thead><tr><th style="text-align:left">别名</th><th style="text-align:left">映射的类型</th></tr></thead><tbody><tr><td style="text-align:left">_byte</td><td style="text-align:left">byte</td></tr><tr><td style="text-align:left">_long</td><td style="text-align:left">long</td></tr><tr><td style="text-align:left">_short</td><td style="text-align:left">short</td></tr><tr><td style="text-align:left">_int</td><td style="text-align:left">int</td></tr><tr><td style="text-align:left">_integer</td><td style="text-align:left">int</td></tr><tr><td style="text-align:left">_double</td><td style="text-align:left">double</td></tr><tr><td style="text-align:left">_float</td><td style="text-align:left">float</td></tr><tr><td style="text-align:left">_boolean</td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left">string</td><td style="text-align:left">String</td></tr><tr><td style="text-align:left">byte</td><td style="text-align:left">Byte</td></tr><tr><td style="text-align:left">long</td><td style="text-align:left">Long</td></tr><tr><td style="text-align:left">short</td><td style="text-align:left">Short</td></tr><tr><td style="text-align:left">int</td><td style="text-align:left">Integer</td></tr><tr><td style="text-align:left">integer</td><td style="text-align:left">Integer</td></tr><tr><td style="text-align:left">double</td><td style="text-align:left">Double</td></tr><tr><td style="text-align:left">float</td><td style="text-align:left">Float</td></tr><tr><td style="text-align:left">boolean</td><td style="text-align:left">Boolean</td></tr><tr><td style="text-align:left">date</td><td style="text-align:left">Date</td></tr><tr><td style="text-align:left">decimal</td><td style="text-align:left">BigDecimal</td></tr><tr><td style="text-align:left">bigdecimal</td><td style="text-align:left">BigDecimal</td></tr><tr><td style="text-align:left">object</td><td style="text-align:left">Object</td></tr><tr><td style="text-align:left">map</td><td style="text-align:left">Map</td></tr><tr><td style="text-align:left">hashmap</td><td style="text-align:left">HashMap</td></tr><tr><td style="text-align:left">list</td><td style="text-align:left">List</td></tr><tr><td style="text-align:left">arraylist</td><td style="text-align:left">ArrayList</td></tr><tr><td style="text-align:left">collection</td><td style="text-align:left">Collection</td></tr><tr><td style="text-align:left">iterator</td><td style="text-align:left">Iterator</td></tr></tbody></table><h3 id="environments元素"><a class="anchor" href="#environments元素">#</a> environments 元素</h3><p>MyBatis 可以配置多套运行环境，如开发环境，测试环境，生产环境等。可以灵活选择不同的配置，从而将 SQL 映射不到不同的数据库环境上。不同的运行环境可以通过 environments 元素来配置，但是不管增加几套运行环境，都必须明确选择出当前唯一的一个运行环境。</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置数据库环境 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 该default属性必填，指定的值必须是存在的 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 配置单个数据库环境 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- environment标签：用于配置数据库环境--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- id属性：在整个应用环境中必须唯一 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 事务管理器:JDBC、MANAGED --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 数据源：POOLED,JNDI,UNPOOLED --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 数据库驱动 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 数据库连接地址 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 数据库用户名 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;user&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 数据库密码 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><ol><li>environments：表示配置 MyBatis 的多套运行环境，将 SQL 映射到多个不同的数据库上，该元素节点下可以配置多个 environment 子元素节点，但是必须指定其中一个为默认的运行环境。</li><li>默认的运行环境 ID：通过 default 属性指定当前的运行环境 ID，对于运行环境 ID 的命名必须确保唯一。</li><li>transactionManager 事务管理器：MyBatis 有两种事务管理器，分别是 JDBC、MANAGED。</li><li>dataSource 数据源类型：MyBatis 提供了 3 种数据源类型，分别是：POOLED、JNDI、UNPOOLED。</li></ol><h3 id="加载映射文件mappers元素"><a class="anchor" href="#加载映射文件mappers元素">#</a> 加载映射文件 ——mappers 元素</h3><p>mappers 映射其用来定义 SQL 的映射语句，可以使用类资源路径或 URL 等方式告诉 MyBatis 去到找到相应的 SQL 语句。</p><h4 id="加载单个映射文件"><a class="anchor" href="#加载单个映射文件">#</a> 加载单个映射文件</h4><p>(1). 使用 resource 属性获取资源</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 加载映射文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mapper/UserMapper.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>(2). 使用 url 属性获取资源</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 加载映射文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">url</span>=<span class="string">&quot;file:///E:/SMBMS/UserMapper.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>(3). 使用 class 属性获取资源</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 加载mapper接口 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span>=<span class="string">&quot;com.manong.dao.UserMapper&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p><code>注意：class属性获取资源是基于注解实现MyBatis。</code></p><h4 id="批量加载映射文件"><a class="anchor" href="#批量加载映射文件">#</a> 批量加载映射文件</h4><p>批量加载映射文件需要遵守以下要求：</p><ol><li>要求 1：映射文件名称必须与接口名称同名</li><li>要求 2：映射文件名称必须与接口在相同目录下</li></ol><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 批量加载 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.manong.dao&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h2 id="mybatis-hibernate和jdbc"><a class="anchor" href="#mybatis-hibernate和jdbc">#</a> MyBatis、Hibernate 和 JDBC</h2><h3 id="mybatis与hibernate的区别"><a class="anchor" href="#mybatis与hibernate的区别">#</a> MyBatis 与 Hibernate 的区别</h3><ol><li>mybatis 是半自动化框架，需要编写 SQL 语句，灵活性强，hibernate 完全自动化框架，面向对象，与数据库无关，不要写编写 SQL 语句</li><li>mybatis 移植性差，hibernate 移植性好</li></ol><h3 id="mybatis-hibernate和jdbc比较"><a class="anchor" href="#mybatis-hibernate和jdbc比较">#</a> MyBatis、Hibernate 和 JDBC 比较</h3><table><thead><tr><th>技术</th><th>性能</th><th>移植性</th></tr></thead><tbody><tr><td>jdbc</td><td>最好</td><td>中等</td></tr><tr><td>hibernate</td><td>最差</td><td>最好</td></tr><tr><td>mybatis</td><td>中等</td><td>最差</td></tr></tbody></table></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-06-21 16:50:26" itemprop="dateModified" datetime="2021-06-21T16:50:26+08:00">2021-06-21</time> </span><span id="2020/04/12/computer-science/MyBatis入门/" class="item leancloud_visitors" data-flag-title="MyBatis入门" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="MatsubaraKanon 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="MatsubaraKanon 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="MatsubaraKanon 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>MatsubaraKanon <i class="ic i-at"><em>@</em></i></li><li class="link"><strong>本文链接：</strong> <a href="http://matsubarakanon.github.io/2020/04/12/computer-science/MyBatis%E5%85%A5%E9%97%A8/" title="MyBatis入门">http://matsubarakanon.github.io/2020/04/12/computer-science/MyBatis入门/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2020/04/12/computer-science/MyBatis%E7%9A%84%E5%85%B3%E8%81%94%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclxfdlttj20zk0m8npd.jpg" title="MyBatis的关联关系映射"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 计算机科学</span><h3>MyBatis的关联关系映射</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#mybatis%E5%85%A5%E9%97%A8"><span class="toc-number">1.</span> <span class="toc-text">MyBatis 入门</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8Bmybatis"><span class="toc-number">1.1.</span> <span class="toc-text">初始 MyBatis</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#mybatis%E6%A1%86%E6%9E%B6%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text">MyBatis 框架简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mybatis%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">1.1.2.</span> <span class="toc-text">MyBatis 的优缺点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%82%B9"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">缺点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mybatis%E5%85%A5%E9%97%A8-2"><span class="toc-number">1.2.</span> <span class="toc-text">MyBatis 入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85mybatis"><span class="toc-number">1.2.1.</span> <span class="toc-text">安装 MyBatis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%AD%E5%BB%BAmybatis%E7%8E%AF%E5%A2%83"><span class="toc-number">1.2.2.</span> <span class="toc-text">搭建 MyBatis 环境</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">实现步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0mybatis%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">添加 MyBatis 相关依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAmybatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">创建 MyBatis 核心配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%8C%81%E4%B9%85%E5%8C%96%E7%B1%BB%E5%AE%9E%E4%BD%93%E7%B1%BB"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">创建持久化类 (实体类)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAsql%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.2.5.</span> <span class="toc-text">创建 SQL 映射文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%B5%8B%E8%AF%95%E7%B1%BB"><span class="toc-number">1.2.2.6.</span> <span class="toc-text">创建测试类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BDsql%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.2.7.</span> <span class="toc-text">加载 SQL 映射文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mybatis%E6%A0%B8%E5%BF%83%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.3.</span> <span class="toc-text">MyBatis 核心对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#sqlsessionfactorybuilder"><span class="toc-number">1.3.1.</span> <span class="toc-text">SqlSessionFactoryBuilder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sqlsessionfactory"><span class="toc-number">1.3.2.</span> <span class="toc-text">SqlSessionFactory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sqlsession"><span class="toc-number">1.3.3.</span> <span class="toc-text">SqlSession</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">1.3.4.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8Esqlsession%E5%AE%9E%E4%BE%8B%E6%89%A7%E8%A1%8Csql%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.4.</span> <span class="toc-text">基于 SqlSession 实例执行 SQL 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B1%E6%A0%B9%E6%8D%AE%E7%94%A8%E6%88%B7%E7%BC%96%E7%A0%81%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.4.1.</span> <span class="toc-text">案例 1：根据用户编码模糊查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#usermapperxml%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">UserMapper.xml 映射文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E7%B1%BB"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">测试类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B2%E7%BB%9F%E8%AE%A1%E7%94%A8%E6%88%B7%E6%95%B0%E9%87%8F"><span class="toc-number">1.4.2.</span> <span class="toc-text">案例 2：统计用户数量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#usermapperxml"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">UserMapper.xml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E7%B1%BB-2"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">测试类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.4.3.</span> <span class="toc-text">总结</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#parametertype"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">parameterType</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#resulttype"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">resultType</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%92%8C"><span class="toc-number">1.4.3.3.</span> <span class="toc-text">#{} 和 ${}</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-number">1.4.3.3.1.</span> <span class="toc-text">#{}</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#-2"><span class="toc-number">1.4.3.3.2.</span> <span class="toc-text">${}</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#selectone%E5%92%8Cselectlist"><span class="toc-number">1.4.3.4.</span> <span class="toc-text">selectOne () 和 selectList ()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8Emapper%E6%8E%A5%E5%8F%A3%E6%96%B9%E5%BC%8F"><span class="toc-number">1.5.</span> <span class="toc-text">基于 Mapper 接口方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.5.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8Emapper%E6%8E%A5%E5%8F%A3%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%E5%8A%9F%E8%83%BD%E5%BC%80%E5%8F%91"><span class="toc-number">1.5.2.</span> <span class="toc-text">基于 Mapper 接口方式实现功能开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89mapper%E6%8E%A5%E5%8F%A3"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">定义 Mapper 接口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAmapper%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="toc-number">1.5.2.2.</span> <span class="toc-text">创建 Mapper 映射文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BD%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="toc-number">1.5.2.3.</span> <span class="toc-text">加载映射文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E7%B1%BB-3"><span class="toc-number">1.5.2.4.</span> <span class="toc-text">测试类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mybatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.</span> <span class="toc-text">MyBatis 核心配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="toc-number">1.6.1.</span> <span class="toc-text">配置文件结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#properties%E5%85%83%E7%B4%A0"><span class="toc-number">1.6.2.</span> <span class="toc-text">properties 元素</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E5%86%99%E5%B1%9E%E6%80%A7%E6%96%87%E4%BB%B6databaseproperties"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">编写属性文件 (database.properties)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%A4%96%E9%83%A8%E5%B1%9E%E6%80%A7%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.2.2.</span> <span class="toc-text">引入外部属性文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setting%E5%85%83%E7%B4%A0"><span class="toc-number">1.6.3.</span> <span class="toc-text">setting 元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%88%AB%E5%90%8Dtypealiases%E5%85%83%E7%B4%A0"><span class="toc-number">1.6.4.</span> <span class="toc-text">设置别名 ——typeAliases 元素</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-2"><span class="toc-number">1.6.4.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%B8%AA%E8%AE%BE%E7%BD%AE%E5%88%AB%E5%90%8D"><span class="toc-number">1.6.4.2.</span> <span class="toc-text">单个设置别名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E8%AE%BE%E7%BD%AE%E5%88%AB%E5%90%8D"><span class="toc-number">1.6.4.3.</span> <span class="toc-text">批量设置别名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%88%AB%E5%90%8D"><span class="toc-number">1.6.4.4.</span> <span class="toc-text">使用别名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mybatis%E5%86%85%E7%BD%AE%E5%88%AB%E5%90%8D"><span class="toc-number">1.6.4.5.</span> <span class="toc-text">MyBatis 内置别名</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#environments%E5%85%83%E7%B4%A0"><span class="toc-number">1.6.5.</span> <span class="toc-text">environments 元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BD%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6mappers%E5%85%83%E7%B4%A0"><span class="toc-number">1.6.6.</span> <span class="toc-text">加载映射文件 ——mappers 元素</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BD%E5%8D%95%E4%B8%AA%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.6.1.</span> <span class="toc-text">加载单个映射文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E5%8A%A0%E8%BD%BD%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.6.2.</span> <span class="toc-text">批量加载映射文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mybatis-hibernate%E5%92%8Cjdbc"><span class="toc-number">1.7.</span> <span class="toc-text">MyBatis、Hibernate 和 JDBC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#mybatis%E4%B8%8Ehibernate%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.7.1.</span> <span class="toc-text">MyBatis 与 Hibernate 的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mybatis-hibernate%E5%92%8Cjdbc%E6%AF%94%E8%BE%83"><span class="toc-number">1.7.2.</span> <span class="toc-text">MyBatis、Hibernate 和 JDBC 比较</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/2020/04/12/computer-science/MyBatis%E5%85%A5%E9%97%A8/" rel="bookmark" title="MyBatis入门">MyBatis入门</a></li><li><a href="/2020/04/12/computer-science/MyBatis%E7%9A%84%E5%85%B3%E8%81%94%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84/" rel="bookmark" title="MyBatis的关联关系映射">MyBatis的关联关系映射</a></li><li><a href="/2020/04/12/computer-science/SQL%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6/" rel="bookmark" title="SQL映射文件">SQL映射文件</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="MatsubaraKanon" data-src="/images/avatar.jpg"><p class="name" itemprop="name">MatsubaraKanon</p><div class="description" itemprop="description">MatsubaraKanon的博客</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">3</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">1</span> <span class="name">分类</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL01hdHN1YmFyYUthbm9u" title="https:&#x2F;&#x2F;github.com&#x2F;MatsubaraKanon"><i class="ic i-github"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTMwODE1NTEzMA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;308155130"><i class="ic i-cloud-music"></i></span> <span class="exturl item email" data-url="bWFpbHRvOnlrbHN0dEBxcS5jb20=" title="mailto:yklstt@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a></div><span><a href="/2020/04/12/computer-science/MyBatis%E5%85%A5%E9%97%A8/" title="MyBatis入门">MyBatis入门</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a></div><span><a href="/2020/04/12/computer-science/SQL%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6/" title="SQL映射文件">SQL映射文件</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a></div><span><a href="/2020/04/12/computer-science/MyBatis%E7%9A%84%E5%85%B3%E8%81%94%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84/" title="MyBatis的关联关系映射">MyBatis的关联关系映射</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">MatsubaraKanon @ MatsubaraKanon</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">49k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">44 分钟</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2020/04/12/computer-science/MyBatis入门/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>